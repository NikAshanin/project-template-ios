# project-template-ios

## Разворачивание нового проекта

### Шаг 1. Настройка конфигурации.

- Создать в аккаунтах разработчика AppID с имененем проекта в нижнем регистре. При генерации проекта создаются 4 базовых конфигурации:
	- StandardDebug, StandardRelease - для них использовать префикс `ru.touchin. + ИМЯ_ПРОЕКТ_В_НИЖНЕМ_РЕГИСТРЕ`. Аккаунт `apple@touchin.ru`
	- EnterpriseDebug, EnterpriseRelease - для них использовать префикс `com.touchin. + ИМЯ_ПРОЕКТ_В_НИЖНЕМ_РЕГИСТРЕ`. Аккаунт `enterpriseapple@touchin.ru`

- Создать `*.mobileprovision` для разработки (в случае Standard) и для развертывания (в случае Enterprise)

- Создать организацию в Фабрике и создать группу тестировщиков `touch-instinct`

### Шаг 2. Установка *Xcodegen*

Легче всего это можно сделать через [Homebrew](https://github.com/yonaskolb/XcodeGen#homebrew). Остальные способы можно прочитать там же на странице

### Шаг 3. Запуск скрипта развертки проекта

Очень важно **НЕ ПЕРЕПУТАТЬ!!!** порядок параметров.

```sh
./bootstrap.sh ПАРАМЕТР_1 ПАРАМЕТР_2 ПАРАМЕТР_3
```

Параметры:

- ПАРАМЕТР_1 = Родительская папка для расположения проекта, в ней будет создана папка проекта. 
- ПАРАМЕТР_2 = Имя проекта. Папка проекта будет создана с постфиксом `-ios`. 

> Пример: если ПАРАМЕТР_2 называется `Bank`, то папка проекта будет называться `Bank-ios`. Уже внутри папки проекта уже будут находится файлы `*.xcodeproj`, `*.xcodeworkspace`, `Podfile`, `Rambafile`, ...

- ПАРАМЕТР_3 = Название репозитория с общими строками, без указания расширения гит и названия компании. Пример: `Bank-Common`, `Bank2-Common`

### Шаг 4. После установки:

- поменять версию `*.xcodeproject` на Xcode-compatible 8.0
- **ВЫКЛЮЧИТЬ** автоматическое подписывание
- выставить необходимые провижены для каждой конфигурации
- *Опционально* при необходимости добавить конфигурации вручную
- Вставить ключ фабрика в Info.plist
- Перенести билд фазу `Fabric` в конец, и добавить к ней ключи организации
